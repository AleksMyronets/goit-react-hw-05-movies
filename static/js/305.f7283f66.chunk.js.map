{"version":3,"file":"static/js/305.f7283f66.chunk.js","mappings":"0NACA,EAAmC,uCAAnC,EAAgF,0BAAhF,EAAsJ,0BAAtJ,EAAuL,2BAAvL,EAA+N,iCAA/N,EAAyQ,6BAAzQ,EAA8S,4BAA9S,EAAmV,6BAAnV,EAA6X,iCAA7X,EAA2a,iC,SCyG3a,EA/FqB,WAAO,IAAD,EACzB,GAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAkBC,EAAAA,EAAAA,MAClBC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,UAACL,EAAgBM,aAAjB,QAA0B,YAG5DC,EAAAA,EAAAA,YAAU,WACHT,GAILU,MAAM,sCAAD,OACmCV,EADnC,6DAGFW,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,IACRF,MAAK,SAAAG,GAAI,OAAIjB,EAASiB,EAAb,IACTC,OAAM,SAAAjB,GACLC,EAASD,EACV,GACJ,GAAE,CAACE,IAIJ,OACE,kBAAMgB,UAAWC,EAAjB,WACE,mBACEC,GAAIZ,EAAoBa,QACxBC,QANc,kBAAMhB,EAASE,EAAoBa,QAAnC,EAOdH,UAAWC,EAHb,kBAOCnB,IAAS,wBAAKA,EAAMuB,UACpBzB,IACC,4BACE,iBAAKoB,UAAWC,EAAhB,WACE,0BACE,gBACED,UAAWC,EACXK,IACE1B,EAAM2B,YApCL,kCAoC8B3B,EAAM2B,YAAc3B,EAAM4B,MAE3DC,IAAK7B,EAAM8B,WAGf,0BACE,2BACE,eAAIV,UAAWC,EAAf,UACE,wBAAKrB,EAAM8B,WAEb,gBAAIV,UAAWC,EAAf,WACE,sCACA,uBAAIrB,EAAM+B,eAEZ,gBAAIX,UAAWC,EAAf,WACE,oCACA,eAAID,UAAWC,EAAf,SACGrB,EAAMgC,OAAOC,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OAChB,eAAed,UAAWC,EAA1B,SACGa,GADMA,EADO,UAOtB,gBAAId,UAAWC,EAAf,WACE,0CACA,uBAAIrB,EAAMmC,2BAKlB,eAAIf,UAAWC,EAAf,qCACA,gBAAID,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CAAMC,GAAG,OAAOF,UAAWC,EAA3B,qBAIF,yBACE,SAAC,KAAD,CAAMC,GAAG,UAAUF,UAAWC,EAA9B,2BAKJ,SAAC,EAAAe,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,WAMX,C","sources":["webpack://react-homework-template/./src/components/Pages/MovieDetails.module.css?a892","components/Pages/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"MovieDetailsMain\":\"MovieDetails_MovieDetailsMain__gN66U\",\"Btn\":\"MovieDetails_Btn__w34J6\",\"Detals\":\"MovieDetails_Detals__3yPTq\",\"Img\":\"MovieDetails_Img__TVJ6r\",\"Info\":\"MovieDetails_Info__+mauQ\",\"DetalsItem\":\"MovieDetails_DetalsItem__jzhN8\",\"Genres\":\"MovieDetails_Genres__FX-NG\",\"Films\":\"MovieDetails_Films__6PlMp\",\"Inform\":\"MovieDetails_Inform__uLUIp\",\"InformList\":\"MovieDetails_InformList__Vybbg\",\"InformItem\":\"MovieDetails_InformItem__F9ATW\"};","import { useEffect, useRef, useState } from 'react';\nimport {\n  Outlet,\n  useNavigate,\n  Link,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\nimport { Suspense } from 'react';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [films, setFilms] = useState(null);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n  const locationDetails = useLocation();\n  const navigate = useNavigate();\n  const backLinkLocationRef = useRef(locationDetails.state ?? '/movies');\n  const BASE_URL = 'https://image.tmdb.org/t/p/w500';\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n\n    fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=487f22e4948534aa04d1bc1da1e0a7b4&language=en-US`\n    )\n      .then(res => res.json())\n      .then(film => setFilms(film))\n      .catch(error => {\n        setError(error);\n      });\n  }, [movieId]);\n\n  const hendleClick = () => navigate(backLinkLocationRef.current);\n\n  return (\n    <main className={css.MovieDetailsMain}>\n      <button\n        to={backLinkLocationRef.current}\n        onClick={hendleClick}\n        className={css.Btn}\n      >\n        Back\n      </button>\n      {error && <h1>{error.message}</h1>}\n      {films && (\n        <div>\n          <div className={css.Info}>\n            <div>\n              <img\n                className={css.Img}\n                src={\n                  films.poster_path ? BASE_URL + films.poster_path : films.image\n                }\n                alt={films.title}\n              />\n            </div>\n            <div>\n              <ul>\n                <li className={css.DetalsItem}>\n                  <h1>{films.title}</h1>\n                </li>\n                <li className={css.DetalsItem}>\n                  <h2>Overview</h2>\n                  <p>{films.overview}</p>\n                </li>\n                <li className={css.DetalsItem}>\n                  <h2>Genres</h2>\n                  <ul className={css.Genres}>\n                    {films.genres.map(({ name }) => (\n                      <li key={name} className={css.Films}>\n                        {name}\n                      </li>\n                    ))}\n                  </ul>\n                </li>\n                <li className={css.DetalsItem}>\n                  <h2>Release date</h2>\n                  <p>{films.release_date}</p>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <h3 className={css.Inform}>Additional information</h3>\n          <ul className={css.InformList}>\n            <li>\n              <Link to=\"cast\" className={css.InformItem}>\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link to=\"reviews\" className={css.InformItem}>\n                Reviews\n              </Link>\n            </li>\n          </ul>\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </div>\n      )}\n    </main>\n  );\n};\nexport default MovieDetails;\n\n"],"names":["useState","films","setFilms","error","setError","movieId","useParams","locationDetails","useLocation","navigate","useNavigate","backLinkLocationRef","useRef","state","useEffect","fetch","then","res","json","film","catch","className","css","to","current","onClick","message","src","poster_path","image","alt","title","overview","genres","map","name","release_date","Suspense","fallback"],"sourceRoot":""}